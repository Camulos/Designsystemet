{"version":3,"sources":["webpack:///./src/components/copy/Copy.tsx","webpack:///./src/useProps.tsx","webpack:///./src/components/proptable/PropTable.jsx","webpack:///./src/components/proptable/ModuleBrowser.tsx","webpack:///./src/components/layout/templates/technical.jsx"],"names":["Copy","copyText","useState","undefined","anchor","setAnchor","className","aria-label","onClick","e","content","currentTarget","textArea","document","createElement","value","body","appendChild","select","execCommand","remove","copyContent","kompakt","orientering","PopoverOrientering","Over","ankerEl","onRequestClose","useProps","path","pathComp","match","useStaticQuery","allComponentMetadata","nodes","map","comp","filter","prop","relativePath","PropTable","moduleProps","propTypes","props","propTypeDocs","Object","keys","sort","key","propName","table","useRef","OverflowDetector","ref","node","current","header","index","val","item","name","indexOf","a","b","localeCompare","propTypeDoc","defaultValue","PropTypeTableHeader","parsePropValue","x","join","length","toString","PropTypeTableRow","desc","found","substr","parseDescription","description","cn","deprecated","type","required","ModuleBrowser","context","modules","source","activeModule","setActiveModule","useEffect","getInitialActiveModule","urlComponentName","window","location","pathname","split","componentIndex","findIndex","module","toLowerCase","defaultIndex","defaultExport","Math","max","generateImportStatement","id","border","i","classnames","active","label","onChange","Number","target","Code","Technical","pageContext","activeToggle","setActiveToggle","version","peerDep","deps","allDep","installInstructions","dep","tabs","href"],"mappings":"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","file":"component---src-components-layout-templates-technical-jsx-5b28ed72cacb9bda8b0a.js","sourcesContent":["import { Flatknapp } from \"nav-frontend-knapper\";\nimport Popover, { PopoverOrientering } from \"nav-frontend-popover\";\nimport { Normaltekst } from \"nav-frontend-typografi\";\nimport React, { useState } from \"react\";\nimport { CopyIcon } from \"../assets/images/svg\";\n\nimport \"./styles.less\";\ninterface CopyProps {\n  copyText: string;\n}\n\nconst Copy = ({ copyText }: CopyProps) => {\n  const [anchor, setAnchor] = useState(undefined);\n\n  const copyContent = (e, content: string) => {\n    setAnchor(anchor ? undefined : e.currentTarget);\n    const textArea = document.createElement(\"textarea\");\n    textArea.value = content;\n    document.body.appendChild(textArea);\n    textArea.select();\n    document.execCommand(\"Copy\");\n    textArea.remove();\n  };\n\n  return (\n    <>\n      <Flatknapp\n        className=\"copy__copyknapp\"\n        aria-label=\"Kopier tekst til utklippstavle\"\n        onClick={(e) => copyContent(e, copyText)}\n        kompakt\n      >\n        <CopyIcon />\n      </Flatknapp>\n      <Popover\n        orientering={PopoverOrientering.Over}\n        ankerEl={anchor}\n        onRequestClose={() => setAnchor(undefined)}\n      >\n        <Normaltekst className=\"copy__popover\"> Kopiert! </Normaltekst>\n      </Popover>\n    </>\n  );\n};\n\nexport default Copy;\n","import { graphql, useStaticQuery } from \"gatsby\";\n\nconst useAllProps = () =>\n  useStaticQuery(graphql`\n    query propsQuery {\n      allComponentMetadata(sort: { order: ASC, fields: name }) {\n        nodes {\n          name\n          relativePath\n          props {\n            defaultValue {\n              value\n            }\n            description\n            name\n            required\n            type {\n              name\n            }\n          }\n        }\n      }\n    }\n  `).allComponentMetadata.nodes.map((comp) => comp);\n\nexport const useProps = (path) => {\n  const pathComp = path.match(/\\/nav-frontend-(.*)\\/md/)[1];\n  const props = useAllProps();\n\n  return props.filter((prop) => {\n    const propPath = prop.relativePath.match(/nav-frontend-(.*)\\/src\\//)[1];\n    return propPath === pathComp;\n  });\n};\n","import React, {useRef} from \"react\";\nimport PT from \"prop-types\";\nimport cn from \"classnames\";\n\nimport \"nav-frontend-tabell-style\";\n\nimport OverflowDetector from \"../overflow-detector/OverflowDetector\";\n\nimport \"./styles.less\";\n\nconst PropTable = ({ moduleProps, ...props }) => {\n  const propTypes = moduleProps.props;\n  const keys = Object.keys(propTypes).sort();\n  const propTypeDocs = keys.map((key) => ({\n    propName: key,\n    ...propTypes[key],\n  }));\n\n  const table = useRef()\n  const headers = [\"Property\", \"Type\", \"Required\", \"Description\", \"Default\"];\n\n  return (\n    <OverflowDetector>\n      <table\n        className=\"tabell tabell--stripet\"\n        ref={(node) => {\n          table.current = node;\n        }}\n      >\n        <thead>\n          <tr>\n            {headers.map((header, index) => (\n              // eslint-disable-next-line react/no-array-index-key\n              <PropTypeTableHeader val={header} index={index} key={index} />\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {\n            // eslint-disable-next-line max-len\n            propTypeDocs\n              .filter((item) => item.name.indexOf(\"aria-\") !== 0)\n              .sort((a, b) => a.name.localeCompare(b.name))\n              .map((propTypeDoc, key) => (\n                <PropTypeTableRow\n                  val={{\n                    ...propTypeDoc,\n                    defaultValue: propTypeDoc.defaultValue\n                      ? propTypeDoc.defaultValue\n                      : \"-\",\n                  }}\n                  key={key} // eslint-disable-line react/no-array-index-key\n                />\n              ))\n          }\n        </tbody>\n      </table>\n    </OverflowDetector>\n  );\n};\n\nexport default PropTable;\n\nconst PropTypeTableHeader = (props) => <th key={props.index}>{props.val}</th>;\n\nPropTypeTableHeader.propTypes = {\n  index: PT.number.isRequired,\n  val: PT.string.isRequired,\n};\n\nconst parsePropValue = (val) => {\n  if (val && typeof val === \"object\") {\n    if (val.name === \"enum\") {\n      return val.value.map((x) => x.value).join(\" | \");\n    }\n    val = val.name || val.value; // eslint-disable-line no-param-reassign\n  }\n  if (val === null || typeof val === \"undefined\" || val.length <= 0) {\n    return \"-\";\n  }\n  return val.toString();\n};\n\nconst parseDescription = (desc) => {\n  const found = desc.match(/^@deprecated/);\n  if (found) {\n    return (\n      <span>\n        <strong>{found[0]}</strong>\n        {desc.substr(11, desc.length)}\n      </span>\n    );\n  }\n  return desc;\n};\n\nconst PropTypeTableRow = (props) => {\n  const desc = parseDescription(parsePropValue(props.val.description));\n  return (\n    <tr className={cn({ deprecated: typeof desc === \"object\" })}>\n      <td>\n        <strong>{parsePropValue(props.val.name)}</strong>\n      </td>\n      <td>\n        <code className=\"inline\">{parsePropValue(props.val.type)}</code>\n      </td>\n      <td>{parsePropValue(props.val.required)}</td>\n      <td>{desc}</td>\n      <td>{parsePropValue(props.val.defaultValue)}</td>\n    </tr>\n  );\n};\n","import classnames from \"classnames\";\nimport Panel from \"nav-frontend-paneler\";\nimport { Select } from \"nav-frontend-skjema\";\nimport { Systemtittel, Undertittel } from \"nav-frontend-typografi\";\nimport React, { useEffect, useState } from \"react\";\nimport { useProps } from \"../../useProps\";\nimport Code from \"../code/Code\";\nimport Copy from \"../copy/Copy\";\nimport PropTable from \"./PropTable\";\nimport \"./styles.less\";\n\n// import Alertstriper from \"nav-frontend-alertstriper\";\nconst ModuleBrowser = ({ context, ...props }) => {\n  const modules = useProps(context.source);\n\n  const [activeModule, setActiveModule] = useState<number>(0);\n\n  useEffect(() => {\n    setActiveModule(getInitialActiveModule());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const getInitialActiveModule = () => {\n    const urlComponentName = window.location.pathname.split(\"/\")[2];\n    const componentIndex = modules.findIndex(\n      (module) => module.name.toLowerCase() === urlComponentName.toLowerCase()\n    );\n    const defaultIndex = modules.findIndex(\n      (module) => module.name === context.defaultExport\n    );\n\n    return Math.max(0, defaultIndex, componentIndex);\n  };\n\n  const generateImportStatement = () => {\n    const format =\n      modules[activeModule].name === context.defaultExport\n        ? modules[activeModule].name\n        : `{ ${modules[activeModule].name} }`;\n    return `import ${format} from '${context.name}';`;\n  };\n\n  return (\n    modules.length !== 0 && (\n      <div className=\"module-browser\">\n        <Systemtittel id=\"moduler\">Moduler</Systemtittel>\n        <Panel border className=\"module-browser__wrapper\">\n          <nav>\n            <ul className=\"nav-list\">\n              {modules.map((module, i) => {\n                if (module.name === undefined) return null;\n                return (\n                  <li key={module.name}>\n                    <button\n                      className={classnames(\n                        \"module-browser--reset-button\",\n                        \"module-browser__button\",\n                        {\n                          active: activeModule === i,\n                        }\n                      )}\n                      onClick={(e) => setActiveModule(i)}\n                    >\n                      {module.name}\n                      {module.name === context.defaultExport && (\n                        <span>&nbsp;(default)</span>\n                      )}\n                    </button>\n                  </li>\n                );\n              })}\n            </ul>\n          </nav>\n          <div className=\"module-browser__content\">\n            <Select\n              label=\"Velg modul\"\n              onChange={(e) => setActiveModule(Number(e.target.value))}\n              value={activeModule}\n            >\n              {modules.map((module, i) => {\n                if (module.name === undefined) return null;\n                return (\n                  <option key={module.name} value={i}>\n                    {module.name}\n                    {/* {moduleName === \"default\" && ` (${moduleName})`} */}\n                  </option>\n                );\n              })}\n            </Select>\n\n            <div className=\"module-browser--innline\">\n              <Undertittel className=\"first\">Import</Undertittel>\n              <Copy copyText={generateImportStatement()} />\n            </div>\n            <Code className=\"language-jsx\">{generateImportStatement()}</Code>\n\n            <Undertittel>React props</Undertittel>\n\n            <PropTable moduleProps={modules[activeModule]} />\n          </div>\n        </Panel>\n      </div>\n    )\n  );\n};\n\nexport default ModuleBrowser;\n","import React, { useState } from \"react\";\n\nimport Panel from \"nav-frontend-paneler\";\nimport Tabs from \"nav-frontend-tabs\";\nimport Lenke from \"nav-frontend-lenker\";\nimport { Systemtittel } from \"nav-frontend-typografi\";\nimport Hjelpetekst from \"nav-frontend-hjelpetekst\";\n\nimport { Bash } from \"../../code/Code\";\n\nimport Copy from \"../../copy/Copy\";\nimport ModuleBrowser from \"../../proptable/ModuleBrowser\";\n\nimport \"./styles.less\";\n\nconst Technical = ({ pageContext, ...props }) => {\n  const [activeToggle, setActiveToggle] = useState(0);\n\n  const { version, name, peerDep, allDep } = pageContext;\n\n  const deps = allDep;\n\n  const installInstructions = [\n    `npm install ${deps.join(\" \")} --save`,\n    `npm install ${deps\n      .filter(\n        (dep) => dep.indexOf(\"-style\") !== -1 || dep.indexOf(\"-core\") !== -1\n      )\n      .join(\" \")} --save`,\n  ];\n\n  const getTabs = () => {\n    if (name.indexOf(\"-style\") !== -1) return [{ label: \"Kun Less\" }];\n    return [{ label: \"React + Less\" }, { label: \"Kun Less\" }];\n  };\n\n  const tabs = getTabs();\n\n  const renderInstallInstructions = () => (\n    <div className=\"install-doc\">\n      <Systemtittel id=\"install\">\n        Installering\n        <Hjelpetekst>\n          De fleste komponentene våre består av en React-pakke og en tilhørende\n          Less-pakke. React-pakkene er avhengige av Less-pakkene, men ikke\n          motsatt. Det betyr at du kan velge å installere kun Less-pakkene hvis\n          du f.eks. vil bruke et Javascript-rammeverk som er inkompatibelt med\n          React - eller hvis du av andre grunner ønsker å håndtere HTML og\n          Javascript selv.\n        </Hjelpetekst>\n        <Copy copyText={installInstructions[activeToggle]} />\n      </Systemtittel>\n      <Tabs tabs={tabs} onChange={(i, x) => setActiveToggle(x)} />\n      <Panel border>\n        <Bash>{installInstructions[activeToggle]}</Bash>\n      </Panel>\n    </div>\n  );\n\n  return (\n    <div className=\"componentGuidelinePage\">\n      <section className=\"section full\">\n        <Systemtittel id=\"npm-pakke\">NPM-pakke</Systemtittel>\n        <table className=\"tabell\">\n          <tbody>\n            <tr>\n              <th>Navn:</th>\n              <td>\n                <Lenke href={`https://www.npmjs.com/package/${name}`}>\n                  {name}\n                </Lenke>\n              </td>\n            </tr>\n            <tr>\n              <th>Siste versjon:</th>\n              <td>\n                <Lenke\n                  href={`https://www.npmjs.com/package/${name}?activeTab=versions`}\n                >\n                  {version}\n                </Lenke>\n              </td>\n            </tr>\n            <tr>\n              <th>Peer&nbsp;dependencies:</th>\n              <td className=\"dependencies\">\n                {Object.keys(peerDep).map((dep) => [\n                  <Lenke\n                    key={dep}\n                    href={`https://www.npmjs.com/package/${dep}`}\n                  >\n                    {dep}\n                  </Lenke>,\n                  \" \",\n                ])}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n      <section className=\"section full\">{renderInstallInstructions()}</section>\n      <section className=\"section full\">\n        <ModuleBrowser context={pageContext} {...props} />\n      </section>\n    </div>\n  );\n};\n\nexport default Technical;\n"],"sourceRoot":""}